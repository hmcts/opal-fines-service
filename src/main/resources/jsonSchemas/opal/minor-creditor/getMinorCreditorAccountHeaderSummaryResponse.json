{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "required": [
    "party_details",
    "business_unit",
    "creditor",
    "financials"
  ],
  "properties": {
    "party": {
      "$ref": "../common-objects/partyDetails.json"
    },
    "business_unit": {
      "$ref": "../common-objects/businessUnitSummary.json"
    },
    "creditor": {
      "type": "object",
      "required": [
        "account_id",
        "account_number",
        "account_type"
      ],
      "properties": {
        "account_id": {
          "$ref": "../../types/bigint_value.json"
        },
        "account_number": {
          "type": "string",
          "minLength": 1,
          "maxLength": 10
        },
        "account_type": {
          "$ref": "../common-objects/creditorAccountTypeReference.json"
        }
      }
    },
    "financials": {
      "type": "object",
      "required": [
        "awarded",
        "paid_out",
        "awaiting_payout",
        "outstanding"
      ],
      "properties": {
        "awarded": {
          "$ref": "../../types/positive_monetary_value.json",
          "description": "Total of all impositions related to that minor creditor"
        },
        "paid_out": {
          "$ref": "../../types/positive_monetary_value.json",
          "description": "Total sum of Creditor Transactions where payment_processed is TRUE and transaction_type is 'PAYMNT'."
        },
        "awaiting_payout": {
          "$ref": "../../types/positive_monetary_value.json",
          "description": "This is the sum of all payment transactions that have been paid by the defendant which has not been paid out to the minor creditor. So transaction_amount in creditor_transactions that are related to the minor creditor where payment_processed is FALSE and transaction_type = 'PAYMNT'"
        },
        "outstanding": {
          "$ref": "../../types/monetary_value.json",
          "description": "Total amount that associated defendant has not paid to the minor creditor  - so it is Imposed amounts minus Paid amounts."
        }
      }
    },
    "additionalProperties": false
  }
}