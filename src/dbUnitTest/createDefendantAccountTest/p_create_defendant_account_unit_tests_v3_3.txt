Timing is on.
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:65: NOTICE:  === Cleanup data before tests ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:65: NOTICE:  Data cleanup before tests completed
DO
Time: 19.450 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: NOTICE:  === TEST 1: Basic account creation with minimum required fields ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  v_account_type                = Fine
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  v_defendant_type              = adultOrYouthOnly
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000001E, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  p_create_defendant_account: defendant_account_id: 60000000000020. Generated account number: 25000001E
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  p_create_defendant_parties: Created parties record for the defendant. defendant_account_id = 60000000000020, party_id = 60000000000020
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the defendant. defendant_account_id = 60000000000020, party_id = 60000000000020
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000020
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  p_create_aliases: There were no aliases to process for party_id = 60000000000020
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  p_create_fp_offences: There were no FP ticket details to process for defendant_account_id = 60000000000020
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  p_get_creditor_account: Found creditor_account_id = 65 - result_id = FO, imposition_creditor = CF
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  p_create_impositions: Processed 1 offences, 1 impositions
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  p_create_impositions: defendant_transactions has been updated. defendant_transaction_id = 60000000000020, transaction_amount = 50.00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  p_create_impositions: defendant_accounts has been updated. defendant_account_id = 60000000000020
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  p_create_payment_terms: Created payment_terms record for defendant_account_id = 60000000000020
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  p_create_payment_terms: defendant_accounts.jail_days [<NULL>] has been updated. defendant_account_id = 60000000000020
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  p_create_enforcements: There were no enforcements to process for defendant_account_id = 60000000000020
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  p_create_account_notes: There were no account notes to process for defendant_account_id = 60000000000020
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  p_create_defendant_account: Created document_instances records for defendant_account_id = 60000000000020
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: INFO:  p_create_defendant_account: Created report_entries record for defendant_account_id = 60000000000020, report_id = tfo_in_register
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:271: NOTICE:  TEST 1 PASSED: Created account 25000001E with ID 60000000000020
DO
Time: 17.669 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: NOTICE:  === TEST 2: Basic account creation with minimum required fields and account_type = "Fixed Penalty", payment_terms "B" with effective_date = NULL and jail_days
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  v_account_type                = Fixed Penalty
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  v_defendant_type              = adultOrYouthOnly
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000002A, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  p_create_defendant_account: defendant_account_id: 60000000000021. Generated account number: 25000002A
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  p_create_defendant_parties: Created parties record for the defendant. defendant_account_id = 60000000000021, party_id = 60000000000021
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the defendant. defendant_account_id = 60000000000021, party_id = 60000000000021
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000021
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  p_create_aliases: There were no aliases to process for party_id = 60000000000021
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  p_create_fp_offences: Created fixed_penalty_offences record for defendant_account_id = 60000000000021
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  p_get_creditor_account: Found creditor_account_id = 65 - result_id = FO, imposition_creditor = CF
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  p_create_impositions: Processed 1 offences, 1 impositions
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  p_create_impositions: defendant_transactions has been updated. defendant_transaction_id = 60000000000021, transaction_amount = 50.00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  p_create_impositions: defendant_accounts has been updated. defendant_account_id = 60000000000021
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  p_create_payment_terms: Created payment_terms record for defendant_account_id = 60000000000021
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  p_create_payment_terms: defendant_accounts.jail_days [14] has been updated. defendant_account_id = 60000000000021
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  p_create_enforcements: There were no enforcements to process for defendant_account_id = 60000000000021
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  p_create_account_notes: There were no account notes to process for defendant_account_id = 60000000000021
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  p_create_defendant_account: Created document_instances records for defendant_account_id = 60000000000021
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: INFO:  p_create_defendant_account: Created report_entries record for defendant_account_id = 60000000000021, report_id = fp_register
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:491: NOTICE:  TEST 2 PASSED: Created account 25000002A with ID 60000000000021
DO
Time: 4.837 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: NOTICE:  === TEST 3: Full account creation with all fields including payment card request - account_type = "Fixed Penalty", debtor is the parent/guardian ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  v_account_type                = Fixed Penalty
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  v_defendant_type              = pgToPay
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000003T, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_defendant_account: defendant_account_id: 60000000000022. Generated account number: 25000003T
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_defendant_parties: Created parties record for the defendant. defendant_account_id = 60000000000022, party_id = 60000000000022
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the defendant. defendant_account_id = 60000000000022, party_id = 60000000000022
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000022
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_aliases: Created aliases for party_id = 60000000000022 - Alias count = 2
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_defendant_parties: Created parties record for the parent_guardian. defendant_account_id = 60000000000022, party_id = 60000000000023
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the parent_guardian. defendant_account_id = 60000000000022, party_id = 60000000000023
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000023
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_aliases: Created aliases for party_id = 60000000000023 - Alias count = 1
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_fp_offences: Created fixed_penalty_offences record for defendant_account_id = 60000000000022
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_get_creditor_account: Found creditor_account_id = 65 - result_id = FO, imposition_creditor = CF
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_minor_creditor: Created parties record for the minor_creditor. party_id = 60000000000024
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000004P, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_minor_creditor: Created creditor_accounts record for the minor_creditor. creditor_account_id = 60000000000000
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_get_creditor_account: Created creditor_account_id = 60000000000000 - result_id = FCOMP, imposition_creditor = Any
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_impositions: Processed 1 offences, 2 impositions
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_impositions: defendant_transactions has been updated. defendant_transaction_id = 60000000000022, transaction_amount = 40.00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_impositions: defendant_accounts has been updated. defendant_account_id = 60000000000022
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_payment_terms: Created payment_terms record for defendant_account_id = 60000000000022
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_payment_terms: defendant_accounts.jail_days [14] has been updated. defendant_account_id = 60000000000022
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_enforcements: last enforcement result ID = NOENF
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_enforcements: Inserted 3 enforcements records for defendant_account_id = 60000000000022
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_enforcements: defendant_accounts.last_enforcement [NOENF] has been updated. defendant_account_id = 60000000000022
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_account_notes: Inserted 2 AA notes records, out of 3, for defendant_account_id = 60000000000022
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_account_notes: defendant_accounts has been updated with account comments. defendant_account_id = 60000000000022
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_defendant_account: Created document_instances records for defendant_account_id = 60000000000022
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: INFO:  p_create_defendant_account: Created report_entries record for defendant_account_id = 60000000000022, report_id = fp_register
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1468: NOTICE:  TEST 3 PASSED: Created account 25000003T with ID 60000000000022 and payment card request
DO
Time: 20.504 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1548: NOTICE:  === TEST 4: Test handling of missing required fields ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1548: INFO:  v_account_type                = <NULL>
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1548: INFO:  v_defendant_type              = <NULL>
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1548: INFO:  v_account_sentence_date       = <NULL>
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1548: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1548: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1548: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1548: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000005L, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1548: NOTICE:  Error in p_create_defendant_account: 23502 - null value in column "account_type" of relation "defendant_accounts" violates not-null constraint
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1548: NOTICE:  Error details: Failing row contains (60000000000023, 65, 25000005L, null, null, 0.00, 0.00, 0.00, L, null, 650000000045, null, null, 2025-08-28 11:21:43.388267, null, null, LJS, TFO, t, t, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 12345, null, null, null, null, null, null, null).
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1548: NOTICE:  Expected error caught: Error in p_create_defendant_account: 23502 - null value in column "account_type" of relation "defendant_accounts" violates not-null constraint
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1548: NOTICE:  ACCOUNT_NUMBER_INDEX row count = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1548: NOTICE:  TEST 4 PASSED: Error handling works correctly for missing required fields
DO
Time: 0.956 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1665: NOTICE:  === TEST 5: Test handling da_account_type_cc check constraint violation ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1665: INFO:  v_account_type                = fine
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1665: INFO:  v_defendant_type              = adultOrYouthOnly
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1665: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1665: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1665: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1665: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1665: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000001E, BU: 60
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1665: NOTICE:  Error in p_create_defendant_account: 23514 - new row for relation "defendant_accounts" violates check constraint "da_account_type_cc"
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1665: NOTICE:  Error details: Failing row contains (60000000000024, 60, 25000001E, 2024-12-12 00:00:00, null, 0.00, 0.00, 0.00, L, null, 650000000045, null, null, 2025-08-28 11:21:43.389634, null, null, LJS, FP, t, t, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, 2025-08-28 11:21:43.389634, L045EO, null, null, 12345, fine, null, null, null, null, null, null).
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1665: NOTICE:  ACCOUNT_NUMBER_INDEX row count = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1665: NOTICE:  TEST 5 PASSED: Error handling works correctly for da_account_type_cc check constraint violation.
DO
Time: 1.017 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: NOTICE:  === TEST 6: Test handling when defendant_type = "pgToPay" AND parent_guardian Json is missing = P2002 ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: INFO:  v_account_type                = Fine
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: INFO:  v_defendant_type              = pgToPay
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000005L, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: INFO:  p_create_defendant_account: defendant_account_id: 60000000000025. Generated account number: 25000005L
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: INFO:  p_create_defendant_parties: Created parties record for the defendant. defendant_account_id = 60000000000025, party_id = 60000000000025
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the defendant. defendant_account_id = 60000000000025, party_id = 60000000000025
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000025
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: INFO:  p_create_aliases: Created aliases for party_id = 60000000000025 - Alias count = 2
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: NOTICE:  Error in p_create_defendant_parties: P2002 - Missing parent/guardian
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: NOTICE:  Error in p_create_defendant_account: P2002 - Missing parent/guardian
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: NOTICE:  Expected error caught: P2002 - Missing parent/guardian
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: NOTICE:  ACCOUNT_NUMBER_INDEX row count = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1806: NOTICE:  TEST 6 PASSED: Error handling works correctly for missing parent_guardian details
DO
Time: 1.654 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: NOTICE:  === TEST 7: Test handling when account_type = "Fixed Penalty" but notice_number field is missing (Json null) = P2011 ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: INFO:  v_account_type                = Fixed Penalty
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: INFO:  v_defendant_type              = adultOrYouthOnly
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000005L, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: INFO:  p_create_defendant_account: defendant_account_id: 60000000000026. Generated account number: 25000005L
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: INFO:  p_create_defendant_parties: Created parties record for the defendant. defendant_account_id = 60000000000026, party_id = 60000000000026
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the defendant. defendant_account_id = 60000000000026, party_id = 60000000000026
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000026
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: INFO:  p_create_aliases: Created aliases for party_id = 60000000000026 - Alias count = 2
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: NOTICE:  Error in p_create_fp_offences: P2011 - Missing ticket number
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: NOTICE:  Error in p_create_defendant_account: P2011 - Missing ticket number
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: NOTICE:  Expected error caught: P2011 - Missing ticket number
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: NOTICE:  ACCOUNT_NUMBER_INDEX row count = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:1957: NOTICE:  TEST 7 PASSED: Error handling works correctly for missing notice_number field
DO
Time: 1.538 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  === TEST 8A: Test handling when the passed payment terms are invalid = P2003 ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  ===          When payment_terms_type_code is not B, I or P                   ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_account_type                = Fine
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_defendant_type              = adultOrYouthOnly
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000005L, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_defendant_account: defendant_account_id: 60000000000027. Generated account number: 25000005L
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_defendant_parties: Created parties record for the defendant. defendant_account_id = 60000000000027, party_id = 60000000000027
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the defendant. defendant_account_id = 60000000000027, party_id = 60000000000027
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000027
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_aliases: There were no aliases to process for party_id = 60000000000027
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_fp_offences: Created fixed_penalty_offences record for defendant_account_id = 60000000000027
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_get_creditor_account: Found creditor_account_id = 65 - result_id = FO, imposition_creditor = CF
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_impositions: Processed 1 offences, 1 impositions
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_impositions: defendant_accounts has been updated. defendant_account_id = 60000000000027
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  Error in p_create_payment_terms: P2003 - Invalid payment terms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  Error in p_create_defendant_account: P2003 - Invalid payment terms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  Test 8A: Expected error caught: P2003 - Invalid payment terms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  Test 8A: ACCOUNT_NUMBER_INDEX row count = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  TEST 8A PASSED: Error handling works correctly when the passed payment terms are invalid
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  === TEST 8B: Test handling when the passed payment terms are invalid = P2003                           ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  ===    When payment_terms_type_code = B, effective_date IS NOT NULL, account_type is NOT Fixed Penalty ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_account_type                = Fine
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_defendant_type              = adultOrYouthOnly
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000005L, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_defendant_account: defendant_account_id: 60000000000028. Generated account number: 25000005L
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_defendant_parties: Created parties record for the defendant. defendant_account_id = 60000000000028, party_id = 60000000000028
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the defendant. defendant_account_id = 60000000000028, party_id = 60000000000028
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000028
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_aliases: There were no aliases to process for party_id = 60000000000028
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_fp_offences: Created fixed_penalty_offences record for defendant_account_id = 60000000000028
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_get_creditor_account: Found creditor_account_id = 65 - result_id = FO, imposition_creditor = CF
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_impositions: Processed 1 offences, 1 impositions
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_impositions: defendant_accounts has been updated. defendant_account_id = 60000000000028
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  Error in p_create_payment_terms: P2003 - Invalid payment terms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  Error in p_create_defendant_account: P2003 - Invalid payment terms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  Test 8B: Expected error caught: P2003 - Invalid payment terms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  Test 8B: ACCOUNT_NUMBER_INDEX row count = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  TEST 8B PASSED: Error handling works correctly when the passed payment terms are invalid
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  === TEST 8C: Test handling when the passed payment terms are invalid = P2003                         ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  ===    When payment_terms_type_code = I, effective_date IS NOT NULL but instalment_amount is missing ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_account_type                = Fine
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_defendant_type              = adultOrYouthOnly
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000005L, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_defendant_account: defendant_account_id: 60000000000029. Generated account number: 25000005L
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_defendant_parties: Created parties record for the defendant. defendant_account_id = 60000000000029, party_id = 60000000000029
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the defendant. defendant_account_id = 60000000000029, party_id = 60000000000029
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000029
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_aliases: There were no aliases to process for party_id = 60000000000029
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_fp_offences: Created fixed_penalty_offences record for defendant_account_id = 60000000000029
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_get_creditor_account: Found creditor_account_id = 65 - result_id = FO, imposition_creditor = CF
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_impositions: Processed 1 offences, 1 impositions
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: INFO:  p_create_impositions: defendant_accounts has been updated. defendant_account_id = 60000000000029
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  Error in p_create_payment_terms: P2003 - Invalid payment terms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  Error in p_create_defendant_account: P2003 - Invalid payment terms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  Test 8C: Expected error caught: P2003 - Invalid payment terms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  Test 8C: ACCOUNT_NUMBER_INDEX row count = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2260: NOTICE:  TEST 8C PASSED: Error handling works correctly when the passed payment terms are invalid
DO
Time: 4.612 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: NOTICE:  === TEST 9: Test handling when the passed imposition result ID is invalid = P2004 ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: INFO:  v_account_type                = Fine
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: INFO:  v_defendant_type              = adultOrYouthOnly
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000005L, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: INFO:  p_create_defendant_account: defendant_account_id: 60000000000030. Generated account number: 25000005L
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: INFO:  p_create_defendant_parties: Created parties record for the defendant. defendant_account_id = 60000000000030, party_id = 60000000000030
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the defendant. defendant_account_id = 60000000000030, party_id = 60000000000030
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000030
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: INFO:  p_create_aliases: There were no aliases to process for party_id = 60000000000030
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: INFO:  p_create_fp_offences: Created fixed_penalty_offences record for defendant_account_id = 60000000000030
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: NOTICE:  Error in p_get_creditor_account: P2004 - Result ZZZZZZ is not valid
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: NOTICE:  Error in p_create_impositions: P2004 - Result ZZZZZZ is not valid
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: NOTICE:  Error in p_create_defendant_account: P2004 - Result ZZZZZZ is not valid
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: NOTICE:  Expected error caught: P2004 - Result ZZZZZZ is not valid
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: NOTICE:  ACCOUNT_NUMBER_INDEX row count = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2415: NOTICE:  TEST 9 PASSED: Error handling works correctly when the passed imposition result ID is invalid
DO
Time: 1.568 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: NOTICE:  === TEST 10: Test handling when the passed creditor information is missing = P2005 ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: INFO:  v_account_type                = Fine
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: INFO:  v_defendant_type              = adultOrYouthOnly
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000005L, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: INFO:  p_create_defendant_account: defendant_account_id: 60000000000031. Generated account number: 25000005L
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: INFO:  p_create_defendant_parties: Created parties record for the defendant. defendant_account_id = 60000000000031, party_id = 60000000000031
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the defendant. defendant_account_id = 60000000000031, party_id = 60000000000031
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000031
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: INFO:  p_create_aliases: There were no aliases to process for party_id = 60000000000031
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: INFO:  p_create_fp_offences: Created fixed_penalty_offences record for defendant_account_id = 60000000000031
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: NOTICE:  Error in p_get_creditor_account: P2005 - Missing creditor
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: NOTICE:  Error in p_create_impositions: P2005 - Missing creditor
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: NOTICE:  Error in p_create_defendant_account: P2005 - Missing creditor
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: NOTICE:  Expected error caught: P2005 - Missing creditor
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: NOTICE:  ACCOUNT_NUMBER_INDEX row count = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2570: NOTICE:  TEST 10 PASSED: Error handling works correctly when the passed creditor information is missing
DO
Time: 1.419 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: NOTICE:  === TEST 11: Test handling when the passed major_creditor_id cannot be found = P2006 ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: INFO:  v_account_type                = Fine
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: INFO:  v_defendant_type              = adultOrYouthOnly
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000005L, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: INFO:  p_create_defendant_account: defendant_account_id: 60000000000032. Generated account number: 25000005L
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: INFO:  p_create_defendant_parties: Created parties record for the defendant. defendant_account_id = 60000000000032, party_id = 60000000000032
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the defendant. defendant_account_id = 60000000000032, party_id = 60000000000032
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000032
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: INFO:  p_create_aliases: There were no aliases to process for party_id = 60000000000032
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: INFO:  p_create_fp_offences: Created fixed_penalty_offences record for defendant_account_id = 60000000000032
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: NOTICE:  Error in p_get_creditor_account: P2006 - Creditor 0 not found
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: NOTICE:  Error in p_create_impositions: P2006 - Creditor 0 not found
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: NOTICE:  Error in p_create_defendant_account: P2006 - Creditor 0 not found
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: NOTICE:  Expected error caught: P2006 - Creditor 0 not found
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: NOTICE:  ACCOUNT_NUMBER_INDEX row count = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2725: NOTICE:  TEST 11 PASSED: Error handling works correctly when the passed major_creditor_id cannot be found
DO
Time: 1.345 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2880: NOTICE:  === TEST 12: Test handling when the passed enforcement court cannot be found = P2007 ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2880: INFO:  v_account_type                = Fine
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2880: INFO:  v_defendant_type              = adultOrYouthOnly
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2880: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2880: INFO:  v_enforcement_court_id        = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2880: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2880: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2880: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000005L, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2880: NOTICE:  Error in p_create_defendant_account: 23503 - insert or update on table "defendant_accounts" violates foreign key constraint "da_enforcing_court_id_fk"
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2880: NOTICE:  Error details: Key (enforcing_court_id)=(0) is not present in table "courts".
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2880: NOTICE:  Expected error caught: P2007 - Enforcement court 0 not found
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2880: NOTICE:  ACCOUNT_NUMBER_INDEX row count = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:2880: NOTICE:  TEST 12 PASSED: Error handling works correctly when the passed enforcement court cannot be found
DO
Time: 1.018 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: NOTICE:  === TEST 13: Test handling when the passed imposing court is not found = P2008 ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: INFO:  v_account_type                = Fine
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: INFO:  v_defendant_type              = adultOrYouthOnly
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000005L, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: INFO:  p_create_defendant_account: defendant_account_id: 60000000000034. Generated account number: 25000005L
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: INFO:  p_create_defendant_parties: Created parties record for the defendant. defendant_account_id = 60000000000034, party_id = 60000000000033
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the defendant. defendant_account_id = 60000000000034, party_id = 60000000000033
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000033
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: INFO:  p_create_aliases: There were no aliases to process for party_id = 60000000000033
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: INFO:  p_create_fp_offences: Created fixed_penalty_offences record for defendant_account_id = 60000000000034
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: INFO:  p_get_creditor_account: Found creditor_account_id = 65 - result_id = FO, imposition_creditor = CF
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: NOTICE:  Error in p_create_impositions: 23503 - insert or update on table "impositions" violates foreign key constraint "imp_imposing_court_id_fk"
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: NOTICE:  Error details: Key (imposing_court_id)=(0) is not present in table "courts".
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: NOTICE:  Error in p_create_defendant_account: P2008 - Imposing court '0' not found
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: NOTICE:  Expected error caught: P2008 - Imposing court '0' not found
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: NOTICE:  ACCOUNT_NUMBER_INDEX row count = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3034: NOTICE:  TEST 13 PASSED: Error handling works correctly when imposing court is not found
DO
Time: 1.509 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: NOTICE:  === TEST 14: Test handling when the passed offence cannot be found = P2009 ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: INFO:  v_account_type                = Fine
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: INFO:  v_defendant_type              = adultOrYouthOnly
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000005L, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: INFO:  p_create_defendant_account: defendant_account_id: 60000000000035. Generated account number: 25000005L
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: INFO:  p_create_defendant_parties: Created parties record for the defendant. defendant_account_id = 60000000000035, party_id = 60000000000034
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the defendant. defendant_account_id = 60000000000035, party_id = 60000000000034
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000034
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: INFO:  p_create_aliases: There were no aliases to process for party_id = 60000000000034
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: INFO:  p_create_fp_offences: Created fixed_penalty_offences record for defendant_account_id = 60000000000035
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: NOTICE:  Error in p_create_impositions: P2009 - Offence 0 not found
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: NOTICE:  Error in p_create_defendant_account: P2009 - Offence 0 not found
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: NOTICE:  Expected error caught: P2009 - Offence 0 not found
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: NOTICE:  ACCOUNT_NUMBER_INDEX row count = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3189: NOTICE:  TEST 14 PASSED: Error handling works correctly when the passed offence cannot be found
DO
Time: 1.280 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: NOTICE:  === TEST 15: Test handling when the passed minor creditor bank details are missing = P2010 ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: INFO:  v_account_type                = Fine
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: INFO:  v_defendant_type              = adultOrYouthOnly
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000005L, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: INFO:  p_create_defendant_account: defendant_account_id: 60000000000036. Generated account number: 25000005L
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: INFO:  p_create_defendant_parties: Created parties record for the defendant. defendant_account_id = 60000000000036, party_id = 60000000000035
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the defendant. defendant_account_id = 60000000000036, party_id = 60000000000035
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000035
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: INFO:  p_create_aliases: There were no aliases to process for party_id = 60000000000035
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: INFO:  p_create_fp_offences: Created fixed_penalty_offences record for defendant_account_id = 60000000000036
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: NOTICE:  Error in p_create_minor_creditor: P2010 - Missing bank detail
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: NOTICE:  Error in p_get_creditor_account: P2010 - Missing bank detail
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: NOTICE:  Error in p_create_impositions: P2010 - Missing bank detail
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: NOTICE:  Error in p_create_defendant_account: P2010 - Missing bank detail
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: NOTICE:  Expected error caught: P2010 - Missing bank detail
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: NOTICE:  ACCOUNT_NUMBER_INDEX row count = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3362: NOTICE:  TEST 15 PASSED: Error handling works correctly when the passed minor creditor bank details are missing
DO
Time: 1.421 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: NOTICE:  === TEST 16: Test handling when the passed Notes Json contains an invalid note_type = P2012 ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  v_account_type                = Fine
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  v_defendant_type              = adultOrYouthOnly
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000005L, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  p_create_defendant_account: defendant_account_id: 60000000000037. Generated account number: 25000005L
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  p_create_defendant_parties: Created parties record for the defendant. defendant_account_id = 60000000000037, party_id = 60000000000036
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the defendant. defendant_account_id = 60000000000037, party_id = 60000000000036
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000036
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  p_create_aliases: There were no aliases to process for party_id = 60000000000036
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  p_create_fp_offences: Created fixed_penalty_offences record for defendant_account_id = 60000000000037
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  p_get_creditor_account: Found creditor_account_id = 65 - result_id = FO, imposition_creditor = CF
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  p_create_impositions: Processed 1 offences, 1 impositions
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  p_create_impositions: defendant_transactions has been updated. defendant_transaction_id = 60000000000023, transaction_amount = 40.00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  p_create_impositions: defendant_accounts has been updated. defendant_account_id = 60000000000037
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  p_create_payment_terms: Created payment_terms record for defendant_account_id = 60000000000037
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  p_create_payment_terms: defendant_accounts.jail_days [14] has been updated. defendant_account_id = 60000000000037
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: INFO:  p_create_enforcements: There were no enforcements to process for defendant_account_id = 60000000000037
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: NOTICE:  Error in p_create_account_notes: P2012 - Note_type ZZ is not valid
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: NOTICE:  Error in p_create_defendant_account: P2012 - Note_type ZZ is not valid
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: NOTICE:  Expected error caught: P2012 - Note_type ZZ is not valid
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: NOTICE:  ACCOUNT_NUMBER_INDEX row count = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3587: NOTICE:  TEST 16 PASSED: Error handling works correctly when the passed Notes Json contains an invalid note_type
DO
Time: 2.082 ms
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: NOTICE:  === TEST 17: Test handling when the passed Notes Json contains more than 1 AC entries = P2013 ===
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  v_account_type                = Fine
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  v_defendant_type              = adultOrYouthOnly
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  v_account_sentence_date       = 2024-12-12 00:00:00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  v_enforcement_court_id        = 650000000045
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  v_originator_name             = LJS
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  v_originator_id               = 12345
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  Inserting record into ACCOUNT_NUMBER_INDEX for account_number: 25000005L, BU: 65
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  p_create_defendant_account: defendant_account_id: 60000000000038. Generated account number: 25000005L
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  p_create_defendant_parties: Created parties record for the defendant. defendant_account_id = 60000000000038, party_id = 60000000000037
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  p_create_defendant_parties: Created defendant_account_parties record for the defendant. defendant_account_id = 60000000000038, party_id = 60000000000037
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  p_create_debtor_details: Created debtor_detail record for party_id = 60000000000037
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  p_create_aliases: There were no aliases to process for party_id = 60000000000037
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  p_create_fp_offences: Created fixed_penalty_offences record for defendant_account_id = 60000000000038
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  p_get_creditor_account: Found creditor_account_id = 65 - result_id = FO, imposition_creditor = CF
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  p_create_impositions: Processed 1 offences, 1 impositions
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  p_create_impositions: defendant_transactions has been updated. defendant_transaction_id = 60000000000024, transaction_amount = 40.00
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  p_create_impositions: defendant_accounts has been updated. defendant_account_id = 60000000000038
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  p_create_payment_terms: Created payment_terms record for defendant_account_id = 60000000000038
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  p_create_payment_terms: defendant_accounts.jail_days [14] has been updated. defendant_account_id = 60000000000038
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  p_create_enforcements: There were no enforcements to process for defendant_account_id = 60000000000038
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: INFO:  p_create_account_notes: Inserted 2 AA notes records, out of 3, for defendant_account_id = 60000000000038
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: NOTICE:  Error in p_create_account_notes: P2013 - Only one AC note type is expected. Number of AC entries = 2
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: NOTICE:  Error in p_create_defendant_account: P2013 - Only one AC note type is expected. Number of AC entries = 2
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: NOTICE:  Expected error caught: P2013 - Only one AC note type is expected. Number of AC entries = 2
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: NOTICE:  ACCOUNT_NUMBER_INDEX row count = 0
psql:/Users/tonymccallion/Library/CloudStorage/OneDrive-CGI/Assignments/HMCTS_OPAL/OPAL_DB_Scripts/Manual_Account_Creation/Phase_4/PO-2096 - Populate impositions.originator_name column/dbUnitTests/p_create_defendant_account_unit_tests_v3_3.sql:3816: NOTICE:  TEST 17 PASSED: Error handling works correctly when the passed Notes Json contains more than 1 AC entries
DO
Time: 2.000 ms
Timing is off.
